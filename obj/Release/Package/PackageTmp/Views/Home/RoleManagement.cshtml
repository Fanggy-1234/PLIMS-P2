@model  PLIMS.ViewModel.ViewModelAll

@*@using PLIMS.Models*@
@{

    ViewBag.Title = "Role Management";
    //TbUser user = Utilities.GetCurrentUser();

}
<script src="~/Scripts/jquery-3.7.1.js"></script>
<script src="~/Scripts/jquery.dataTables.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<!-- jQuery -->
<script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-1.10.2.min.js"></script>


<link href="~/Content/datatables.min.css" rel="stylesheet" />
<script src="~/Content/datatables.min.js"></script>


<link href="~/Content/main.css" rel="stylesheet" />

<style>

    .form-control {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #808080;
        border-radius: 2px;
        box-sizing: border-box;
    }

    .create-button, .clear-button {
        background-color: #A4ADB3;
        border: none;
        border-radius: 2px;
        cursor: pointer;
        color: white;
        width: 100%;
        height: 100%;
    }

    .search-button {
        border: 0.4px solid black;
        background-color: white;
        border-radius: 2px;
        cursor: pointer;
        color: black;
        width: 100%;
        height: 100%;
    }

    div .dataTables_wrapper {
        width: 800px;
        margin: 0 auto;
    }
</style>

<div class="row" style="height:10px"></div>
<h2 class="page-name">Role Management</h2>


<div class="row">
    <div class="col-6" style="height:50px">
        Full  : Create / Update / Delete
        View :  See only
        No :  no access
    </div>

    <div class="col-2">
        <button class="create-button"> Create New Role</button>
    </div>
</div>
<div class="row" style="height:20px"></div>
<div>


    @*Diaplay data*@
    <table id="table_id" class="display nowrap" style="width:100%">
        <thead style="background-color:gainsboro ;color:black ; ">


            <tr>
                <th></th>
                @foreach (var item in Model.tbPage)
                {
                    <th>
                        @Html.DisplayFor(modelItem => item.PageName)
                    </th>
                }
            </tr>



        </thead>
        <tbody>


            @foreach (var item in Model.tbRole)
            {

                <tr>
                    <td id="RoleName">@item.RoleName</td>
                    @foreach (var items in Model.view_PagePermission)
                    {
                        @if(items.RoleName == item.RoleName)
                        {
                            <td id="Action">@items.PermissionID @items.RoleName</td>
                        }
                        else
                        { 

                        }



                    }
                </tr>
            }





            @*<td class="page-table-data" style="border:solid 1px grey">

                    <a href="#" data-bs-toggle="modal" data-bs-target="#EditModal" id="btnEdit" data-id="@item.PlantID" onclick="EditFn(@item.PlantID)">Edit</a>


                </td>*@
        </tbody>

    </table>
</div>
<script>

    new DataTable('#table_id', {
        scrollX: true,
        scrollY : true
    });


</script>